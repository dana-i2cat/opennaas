<?xml version="1.0" encoding="UTF-8"?>
<features>
	<repository>mvn:org.apache.karaf.assemblies.features/standard/${karaf.version}/xml/features</repository>
	<repository>mvn:org.apache.servicemix.nmr/apache-servicemix-nmr/${nmr.version}/xml/features</repository>
	<repository>mvn:org.apache.camel.karaf/apache-camel/${camel.version}/xml/features</repository>

	<feature name="opennaas-persistence" version="${project.version}">
		<feature>spring</feature>

		<bundle dependency="true">mvn:org.hsqldb/com.springsource.org.hsqldb/${hsqldb.version}</bundle>
		<bundle dependency="true">mvn:org.dynamicjava.osgi/dynamic-jpa/${dynamicjava.version}</bundle>
		<bundle dependency="true">mvn:org.dynamicjava.osgi/service-binding-utils/${dynamicjava.version}</bundle>
		<bundle dependency="true">mvn:org.dynamicjava.osgi/classloading-utils/${dynamicjava.classloading.version}</bundle>

		<bundle>mvn:org.opennaas/opennaas-core-hibernate/${project.version}</bundle>
		<bundle>mvn:org.opennaas/opennaas-core-hsqldb/${project.version}</bundle>
		<bundle>mvn:org.opennaas/opennaas-core-persistence/${project.version}</bundle>
	</feature>

	<feature name="opennaas-core" version="${project.version}">
		<feature>xml-specs</feature>
		<feature version="${project.version}">opennaas-persistence</feature>

		<bundle dependency="true">mvn:org.osgi/org.osgi.compendium/${osgi.version}</bundle>
		<bundle dependency="true">mvn:org.apache.felix/org.apache.felix.eventadmin/1.2.14</bundle>

		<bundle>mvn:org.opennaas/opennaas-core-events/${project.version}</bundle>
		<bundle>mvn:org.opennaas/opennaas-core-resources/${project.version}</bundle>
		<bundle>mvn:org.opennaas/opennaas-core-protocols-sessionmanager/${project.version}</bundle>
	</feature>

	<feature name="opennaas-platform" version="${project.version}">
		<feature>jetty</feature>
		<feature>cxf</feature>

		<bundle>mvn:org.opennaas/opennaas-core-platformmanager/${project.version}</bundle>
	</feature>
</features>
